@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="container">
    <form method="POST">
        <fieldset>
            <legend>Search</legend>
            @{
                if(Model.ErrorMessages!=null && Model.ErrorMessages.Any()){
                    <div class="alert alert-danger">
                        @foreach (var item in Model.ErrorMessages)
                        {
                            <p>
                                - @item
                            </p>
                        }
                    </div>
                }       
            }
            <div class="form-group">
                <label for="object-id">Object ID</label>
                <input 
                    asp-for="RequestModel.ObjectId"
                    class="form-control" 
                    type="text" 
                    placeholder="guid id" 
                    id="object-id" 
                    name="ObjectId" 
                    required/>   
            </div>
            <div class="form-group">
                <label>&nbsp;</label>
                <input type="submit" value="Submit" class="submit" />
            </div>
        </fieldset>
    </form>
</div>
@{
    if(Model.AuditObjects!=null && Model.AuditObjects.Any()){
        <div class="container">
            <ul class="list-group">
                @{
                    int i = 0;
                    foreach (var item in Model.AuditObjects)
                    {
                        i++;
                        <li class="list-group-item">
                            <div class="row">
                                <div class="col-lg-1 text-center">@i</div>
                                <pre class="col-lg-11" style="white-space: pre-wrap;">@item.Body</pre>
                            </div>
                        </li>
                    }
                }
            </ul>
        </div>
    }
}

